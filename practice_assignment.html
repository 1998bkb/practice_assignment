<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=9" >

<title>Practice Assignment</title>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>




</head>

<body>
<h1>Practice Assignment</h1>

<p>The goal of this assignment is to provide a &ldquo;bridge&rdquo; between the first two weeks of lectures and assignment 1 for those either new to R or struggling with how to approach the assignment.</p>

<p>This guided example, will <strong>not</strong> provide an &ldquo;solution&rdquo; for programming assignment 1.  However, it will guide you through some core concepts and give you some practical experience to hopefully make assignment 1 seems less daunting.</p>

<p>To begin, download this file and unzip it into your R working directory.<br/>
<a href="https://dl.dropboxusercontent.com/u/8036886/diet_data.zip">https://dl.dropboxusercontent.com/u/8036886/diet_data.zip</a></p>

<p>You can do  this in R with the following code:</p>

<pre><code class="r">dataset_url &lt;- &quot;http://dl.dropboxusercontent.com/u/8036886/diet_data.zip&quot;
download.file(dataset_url, &quot;diet_data.zip&quot;)
unzip(&quot;diet_data.zip&quot;, exdir = &quot;diet_data&quot;)
</code></pre>

<p>If you&#39;re not sure where your working directory is, you can find out with the getwd() command.  Alternatively, you can view/change it through the Tools &gt; Global Options menu in R Studio.</p>

<p>So assuming you&#39;ve unzipped the file into your R directory, you should have a folder called diet_data.  In that folder there are five files.  Let&#39;s get a list of those files:</p>

<pre><code class="r">list.files(&quot;diet_data&quot;)
</code></pre>

<pre><code>## [1] &quot;Andy.csv&quot;  &quot;David.csv&quot; &quot;John.csv&quot;  &quot;Mike.csv&quot;  &quot;Steve.csv&quot;
</code></pre>

<p>Okay, so we have 5 files.  Let&#39;s take a look at one to see what&#39;s inside:</p>

<pre><code class="r">andy &lt;- read.csv(&quot;diet_data/Andy.csv&quot;)
head(andy)
</code></pre>

<pre><code>##   Patient.Name Age Weight Day
## 1         Andy  30    140   1
## 2         Andy  30    140   2
## 3         Andy  30    140   3
## 4         Andy  30    139   4
## 5         Andy  30    138   5
## 6         Andy  30    138   6
</code></pre>

<p>It appears that the file has 4 columns, Patient.Name, Age, Weight, and Day.  Let&#39;s figure out how many rows there are by looking at the length of the &#39;Day&#39; column:</p>

<pre><code class="r">length(andy$Day)
</code></pre>

<pre><code>## [1] 30
</code></pre>

<p>30 rows.  OK.</p>

<p>Alternatively, you could look at the dimensions of the data.frame:</p>

<pre><code class="r">dim(andy)
</code></pre>

<pre><code>## [1] 30  4
</code></pre>

<p>This tells us that we 30 rows of data in 4 columns.</p>

<p>So we have 30 days of data.  To save you time, all of the other files match this format and length.  I&#39;ve made up 30 days worth of weight data for 5 subjects of an imaginary diet study.</p>

<p>Let&#39;s play around with a couple of concepts.  First, how would we see Andy&#39;s starting weight?  We want to subset the data.  Specifically, the first row of the &#39;Weight&#39; column:</p>

<pre><code class="r">andy[1, &quot;Weight&quot;]
</code></pre>

<pre><code>## [1] 140
</code></pre>

<p>We can do the same thing to find his final weight on Day 30:</p>

<pre><code class="r">andy[30, &quot;Weight&quot;]
</code></pre>

<pre><code>## [1] 135
</code></pre>

<p>Alternatively, you could create a subset of the &#39;Weight&#39; column where the data where &#39;Day&#39; is equal to 30.</p>

<pre><code class="r">andy[andy$Day == 30, &quot;Weight&quot;]
</code></pre>

<pre><code>## [1] 135
</code></pre>

<pre><code class="r">andy[andy[,&quot;Day&quot;]==30, &quot;Weight&quot;]
</code></pre>

<pre><code>## [1] 135
</code></pre>

<p>Or, we could use the subset function to do the same thing:</p>

<pre><code class="r">subset(andy$Weight, andy$Day==30)
</code></pre>

<pre><code>## [1] 135
</code></pre>

<p>There are lots of ways to get from A to B when using R.  However it&#39;s important to understand some of the various approaches to subsetting data.</p>

<p>Let&#39;s assign Andy&#39;s starting and ending weight to vectors:</p>

<pre><code class="r">andy_start &lt;- andy[1, &quot;Weight&quot;]
andy_end &lt;- andy[30, &quot;Weight&quot;]
</code></pre>

<p>We can find out how much weight he lost by subtracting the vectors:</p>

<pre><code class="r">andy_loss &lt;- andy_start - andy_end
andy_loss
</code></pre>

<pre><code>## [1] 5
</code></pre>

<p>Andy lost 5 pounds over the 30 days.  Not bad.  What if we want to look at other subjects or maybe even everybody at once?  </p>

<p>Let&#39;s look back to the list.files() command.  It returns the contents of a directory in alphabetical order.  You can type &#39;?list.files&#39; at the R prompt to learn more about the function.</p>

<p>Let&#39;s take the output of list.files() and store it:</p>

<pre><code class="r">files &lt;- list.files(&quot;diet_data&quot;)
files
</code></pre>

<pre><code>## [1] &quot;Andy.csv&quot;  &quot;David.csv&quot; &quot;John.csv&quot;  &quot;Mike.csv&quot;  &quot;Steve.csv&quot;
</code></pre>

<p>Knowing that &#39;files&#39; is now a list of the contents of &#39;diet_data&#39; in alphabetical order, we can call a specific file by subsetting it:</p>

<pre><code class="r">files[1]
</code></pre>

<pre><code>## [1] &quot;Andy.csv&quot;
</code></pre>

<pre><code class="r">files[2]
</code></pre>

<pre><code>## [1] &quot;David.csv&quot;
</code></pre>

<pre><code class="r">files[3:5]
</code></pre>

<pre><code>## [1] &quot;John.csv&quot;  &quot;Mike.csv&quot;  &quot;Steve.csv&quot;
</code></pre>

<p>Let&#39;s take a quick look at John.csv:</p>

<pre><code class="r">head(read.csv(files[3]))
</code></pre>

<pre><code>## Warning: cannot open file &#39;John.csv&#39;: No such file or directory
</code></pre>

<pre><code>## Error: cannot open the connection
</code></pre>

<p>Woah, what happened?  Well, John.csv is sitting inside the diet_data folder.  We just tried to run the equivalent of read.csv(&ldquo;John.csv&rdquo;) and R correctly told us that there isn&#39;t a file called John.csv in our working directory.  To fix this, we need to append the directory to the beginning of the file name.</p>

<p>One approach would be to use paste() or sprintf().  However, if you go back to the help file for list.files(), you&#39;ll see that there is an argument called full.names that will append (technically prepend) the path to the file name for us.</p>

<pre><code class="r">files_full &lt;- list.files(&quot;diet_data&quot;, full.names=TRUE)
files_full
</code></pre>

<pre><code>## [1] &quot;diet_data/Andy.csv&quot;  &quot;diet_data/David.csv&quot; &quot;diet_data/John.csv&quot; 
## [4] &quot;diet_data/Mike.csv&quot;  &quot;diet_data/Steve.csv&quot;
</code></pre>

<p>Pretty cool.  Now let&#39;s try taking a look at John.csv again:</p>

<pre><code class="r">head(read.csv(files_full[3]))
</code></pre>

<pre><code>##   Patient.Name Age Weight Day
## 1         John  22    175   1
## 2         John  22    175   2
## 3         John  22    175   3
## 4         John  22    175   4
## 5         John  22    175   5
## 6         John  22    175   6
</code></pre>

<p>Success!  So what if we wanted to create one big data frame with everybody&#39;s data in it?  We&#39;d do that with rbind and a loop.  Let&#39;s start with rbind:</p>

<pre><code class="r">andy_david &lt;- rbind(andy, read.csv(files_full[2]))
</code></pre>

<p>This line of code took our existing data frame, Andy, and added the rows from David.csv to the end of it.  We can check this with:</p>

<pre><code class="r">head(andy_david)
</code></pre>

<pre><code>##   Patient.Name Age Weight Day
## 1         Andy  30    140   1
## 2         Andy  30    140   2
## 3         Andy  30    140   3
## 4         Andy  30    139   4
## 5         Andy  30    138   5
## 6         Andy  30    138   6
</code></pre>

<pre><code class="r">tail(andy_david)
</code></pre>

<pre><code>##    Patient.Name Age Weight Day
## 55        David  35    203  25
## 56        David  35    203  26
## 57        David  35    202  27
## 58        David  35    202  28
## 59        David  35    202  29
## 60        David  35    201  30
</code></pre>

<p>One thing to note, rbind needs 2 arguments.  The first is an existing data frame and the second is what you want to append to it.  This means that there are occassions when you might want to create an empty data frame just so there&#39;s <em>something</em> to use as the existing data frame in the rbind argument.  </p>

<p>Don&#39;t worry if you can&#39;t imagine when that would be useful because you&#39;ll see an example in just a little while.</p>

<p>Now, let&#39;s create a subset of the data frame that shows us just the 25th day for Andy and David.</p>

<pre><code class="r">day_25 &lt;- andy_david[andy_david$Day == 25, ]
day_25
</code></pre>

<pre><code>##    Patient.Name Age Weight Day
## 25         Andy  30    135  25
## 55        David  35    203  25
</code></pre>

<p>Now you could manually go through and append everybody&#39;s data to the same data frame using rbind, but that&#39;s not a practical solution if you&#39;ve got lots and lots of files.  So let&#39;s try using a loop.</p>

<p>To understand what&#39;s happening in a loop, let&#39;s try something:</p>

<pre><code class="r">for (i in 1:5) {print(i)}
</code></pre>

<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5
</code></pre>

<p>As you can see, for each pass through the loop, i increases by 1 from 1 through 5.  Let&#39;s apply that concept to our list of files.</p>

<pre><code class="r">for (i in 1:5) {
        dat &lt;- rbind(dat, read.csv(files_full[i]))
}
</code></pre>

<pre><code>## Error: object &#39;dat&#39; not found
</code></pre>

<p>Whoops.  Object &#39;dat&#39; not found.  This is because you can&#39;t rbind something into a file that doesn&#39;t exist yet.  So let&#39;s create an empty data frame called &#39;dat&#39; before running the loop.</p>

<pre><code class="r">dat &lt;- data.frame()
for (i in 1:5) {
        dat &lt;- rbind(dat, read.csv(files_full[i]))
}
</code></pre>

<p>Cool.  We now have a data frame called &#39;dat&#39; with all of our data in it.  So what if we wanted to know the median weight for all the data?  Let&#39;s use the median() function.</p>

<pre><code class="r">median(dat$Weight)
</code></pre>

<pre><code>## [1] NA
</code></pre>

<p>NA?  Why did that happen?  Type &#39;dat&#39; into the console and you&#39;ll see a print out of all 150 obversations.  Scroll back up to row 77, and you&#39;ll see that we have some missing data from John, which is recorded as NA by R.  </p>

<p>We need to get rid of those NA&#39;s for the purposes of calculating the median.  There are several approaches.  We could subset the data using complete.cases.  But if you look at &#39;?median&#39;, you&#39;ll see there is an argument called &#39;na.rm&#39; that will strip the NA values out for us.</p>

<pre><code class="r">median(dat$Weight, na.rm=TRUE)
</code></pre>

<pre><code>## [1] 190
</code></pre>

<p>So 190 is the median weight.  We can find the median weight of day 30 by taking the median of a subset of the data where Day=30.</p>

<pre><code class="r">dat_30 &lt;- dat[dat[, &quot;Day&quot;] == 30,]
dat_30
</code></pre>

<pre><code>##     Patient.Name Age Weight Day
## 30          Andy  30    135  30
## 60         David  35    201  30
## 90          John  22    177  30
## 120         Mike  40    192  30
## 150        Steve  55    214  30
</code></pre>

<pre><code class="r">median(dat_30$Weight)
</code></pre>

<pre><code>## [1] 192
</code></pre>

<p>We&#39;ve done a lot of manual data manipulation so far.  Let&#39;s build a function that will return the median weight of a given day.</p>

<p>Let&#39;s start out by defining what the arguments of the function should be.  These are the parameters that the user will define.  The first parameter the user will need to define is the directory that is holding the data.  The second parameter they need to define is the day for which they want to calculate the median.</p>

<p>So our function is going to start out something like this:</p>

<p>weightmedian &lt;- function(directory, day)  {
        # content of the function
}</p>

<p>So what goes in the content?   Let&#39;s think through it logically.  We need a data frame with all of the data from the CSV&#39;s.  We&#39;ll then subset that data frame using the argument &#39;day&#39; and take the median of that subset.</p>

<p>In order to get all of the data into a single data frame, we can use the method we worked through earlier using list.files and rbind.</p>

<p>Essentially, these are all things that we&#39;ve done in this example.  Now we just need to combine them into a single function.</p>

<p>So what does the function look like?</p>

<pre><code class="r">weightmedian &lt;- function(directory, day)  {
        files_list &lt;- dir(directory, full.names=TRUE)   #creates a list of files
        dat &lt;- data.frame()                             #creates an empty data frame
        for (i in 1:5) {                                #loops through the files, rbinding them together 
                dat &lt;- rbind(dat, read.csv(files_list[i]))
        }
        dat_subset &lt;- dat[dat[, &quot;Day&quot;] == day,]         #subsets the rows that match the &#39;day&#39; argument
        median(dat_subset$Weight, na.rm=TRUE)           #identifies the median of the subset 
                                                        #while stripping out the NAs
}
</code></pre>

<p>You can test this function by running it a few different times:</p>

<pre><code class="r">weightmedian(&quot;diet_data&quot;, 20)
</code></pre>

<pre><code>## [1] 197.5
</code></pre>

<pre><code class="r">weightmedian(&quot;diet_data&quot;, 4)
</code></pre>

<pre><code>## [1] 188
</code></pre>

<pre><code class="r">weightmedian(&quot;diet_data&quot;, 17)
</code></pre>

<pre><code>## [1] 198
</code></pre>

<p>Hopefully, this has given you some practice applying the basic concepts from weeks 1 and 2.  If you can work your way through this example, you should have all of the tools needed to complete part 1 of assignment 1.  Parts 2 and 3 are really just expanding on the same basic concepts, potentially adding in some ideas like cbinds and if-else.</p>

<p>I&#39;m going to start a forum thread for this &ldquo;practice assignment&rdquo; and will do my best to answer questions.</p>

</body>

</html>

